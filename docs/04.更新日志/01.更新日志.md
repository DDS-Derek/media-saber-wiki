---
title: 更新版本
article: false
date: 2023-06-28T05:11:48.294Z
tags:
categories: 更新日志
editor: markdown
dateCreated: 2023-05-12T04:26:30.172Z
permalink: /update_version
---

# 更新日志

## 3.0.202507121334

### ✨ 新增

#### 🏗️ 核心架构升级
- ☁️ **云存储管理系统重构**：Mlist全新云存储架构，支持openlist网盘驱动，为media Saber赋能 支持115、123、阿里云盘、天翼云盘、OneDrive等多种驱动
- 🔌 **统一云存储API**：统一的云存储接口和管理界面，提供一致的操作体验
- ⬆️ **Angular 20升级**：前端框架升级到Angular 20，提升性能和开发体验

#### 🌐 云存储功能矩阵
- 📋 **任务管理系统**：完整的任务创建、监控、取消、重试、批量操作功能
- 📁 **文件操作套件**：新建文件夹、移动、复制、删除、重命名、批量选择
- 🔍 **路径搜索**：增加云存储路径搜索功能，支持快速定位文件
- ⬆️ **上传功能**：支持文件上传到各类云存储平台
- 🌳 **目录树管理**：完整的目录树结构展示和操作
- 💾 **转存功能**：媒体资源可直接转存到云存储

#### 📱 115网盘专项功能
- 🔐 **扫码登录**：115网盘支持扫码登录功能
- 🎯 **115 Open API**：基于官方开放接口的115网盘驱动
- 📤 **115分享处理**：支持115网盘分享链接处理
- 🍪 **Cookie管理**：优化115网盘cookie配置和管理

#### 🎬 媒体处理增强
- 🔧 **STRM修复工具**：STRM链接修复，支持替换host、api、apiKey
- 🔗 **STRM302驱动**：新增STRM302云存储驱动
- 📄 **云存储媒体整理**：支持云存储路径的媒体整理和转移
- 🎬 **媒体详情重构**：媒体详情页面全面重构，支持云下载功能
- 📄 **未识别媒体分页**：媒体整理中未识别页面增加分页功能
- 🆔 **TMDB ID复制**：媒体详情支持一键复制TMDB ID
- 🧹 **TMDB缓存清理**：媒体详情支持一键删除媒体TMDB缓存

#### 🛠️ 系统功能扩展
- 🌐 **WebDAV支持**：新增WebDAV协议云存储驱动和文件管理
- 🏷️ **目录复制功能**：支持从标签复制目录结构
- 🖼️ **自定义SVG图标**：增加自定义SVG图标支持和demo
- 🌐 **动态字段翻译**：根据label区分MS自定义字段和openlist字段
- 🏷️ **站点VPN标签**：站点测试显示VPN标签
- 🎨 **驱动图标显示**：各种云存储驱动显示对应图标

### ⚡ 优化

#### 🏗️ 核心架构优化
- 🔧 **HTTP客户端池**：增加HTTP client连接池，优化response body释放
- 💾 **缓存机制升级**：本地和云存储请求增加缓存机制，提升响应速度
- 🚀 **并发请求优化**：优化文件列表并发请求逻辑和性能
- 🎯 **性能监控**：开启gozero pprof性能分析工具

#### 📋 任务管理优化
- 🎴 **任务界面重构**：任务界面改为卡片式展示，支持手机端
- ⚡ **任务状态优化**：优化任务状态显示和执行逻辑
- 🔄 **任务重试机制**：完善任务失败重试机制
- 🧹 **任务清理功能**：支持批量清理已完成/失败任务

#### 📁 文件管理优化
- 📝 **文件显示增强**：支持显示所有文件类型，长文件名支持自动换行
- 🔗 **联动删除优化**：优化云存储文件的联动删除逻辑
- 📏 **文件大小显示**：优化云存储文件大小显示逻辑
- 🖱️ **操作交互优化**：文件夹双击打开改为单击打开

#### 📊 界面与图表优化
- 📊 **图表库升级**：统计图表改用ECharts，移除ApexCharts依赖
- 📈 **今日上传图表**：柱状图改为ECharts实现
- 🎨 **界面布局调整**：多个页面的布局和样式优化
- 🌳 **目录树展开**：使用完整路径确定节点，避免同名节点展开问题

#### 🎯 媒体处理优化
- 📊 **路径过滤优化**：优化媒体整理的路径过滤逻辑
- 📦 **小体积过滤**：小体积过滤只处理媒体文件，提升效率
- 🎬 **TMDB缓存优化**：优化TMDB信息缓存和查询逻辑
- 📋 **媒体详情优化**：优化媒体详情页面的数据结构和显示

#### 🚀 性能与体验优化
- 📊 **站点统计优化**：站点统计数据1分钟内只请求一次，避免频繁请求
- ⚠️ **登录错误提示**：优化拦截器，登录错误1秒内只提示一次
- ☑️ **全选限制**：限制全选不会选中文件夹
- 📊 **存储状态显示**：优化存储状态的显示方式

### 🐞 修复

#### ☁️ 云存储修复
- ⏰ **缓存过期处理**：修复云存储缓存过期时间可以为空的问题
- 🍪 **Cookie配置**：修复115open转存、目录树未配置cookie时的提示
- 🔄 **任务状态修复**：修复云存储未完成任务的状态处理
- 📂 **目录操作修复**：修复云存储目录操作相关的各种问题
- 📏 **文件大小显示**：修复云存储文件大小显示逻辑
- ☁️ **路径判断优化**：优化云存储和本地路径的判断逻辑

#### 🎬 媒体处理修复
- 🗑️ **TMDB缓存清理**：修复删除TMDB缓存无效的问题
- 📊 **数据结构修复**：修复季集资源链接接口返回数据结构
- 🔧 **STRM处理修复**：修复STRM文件生成和处理逻辑
- 📁 **路径处理修复**：修复文件路径处理和显示逻辑
- 🖱️ **文件操作修复**：修复文件双击相关问题

#### 🛠️ 系统与插件修复
- 🌐 **NullBr代理配置**：修复nullbr默认走代理的配置
- 🗑️ **删种逻辑修复**：修复删种插件的做种时间逻辑
- 📋 **动态表单修复**：修复动态表单配置错误
- 💾 **数据库操作**：修复各种数据库操作相关问题
- 🛑 **插件卸载修复**：修复部分插件卸载后任务还会运行的问题

#### 🔧 技术债务修复
- 🛤️ **非法路径设置**：修复非法路径设置问题
- 📦 **依赖更新**：更新项目依赖解决相关问题
- ⚠️ **构建警告**：修复构建过程中的警告
- 🔍 **Lint问题**：修复代码格式检查问题
- 🎨 **图标包问题**：修复图标包相关问题，改为自己打包的版本

#### 🚀 性能与稳定性修复
- 📱 **移动端优化**：优化移动端界面显示和操作
- 🔄 **内存泄漏修复**：修复可能的内存泄漏问题
- ⚡ **响应速度提升**：提升各种操作的响应速度
- 🛠️ **错误处理完善**：完善各种异常情况的错误处理
- 📋 **任务速度显示**：修复已完成任务的速度显示
- 🌐 **翻译状态**：解决翻译相关的状态问题
- 🧹 **冗余显示清理**：移除各种冗余的显示内容

---

**🚨 重要提醒**：
- 本次更新包含云存储架构的重大重构，建议在更新前备份重要数据
- 云存储功能现已支持更多网盘类型，请重新配置相关驱动
- 部分API接口可能有变化，请检查相关集成是否正常工作
- 新增的功能需要重新配置相关参数才能正常使用
- 前端框架已升级到Angular 20，请清除浏览器缓存以获得最佳体验

**📊 本次更新统计**：
- 💾 云存储架构全面重构，支持更多驱动类型
- 🎯 媒体处理功能大幅增强，提升用户体验
- 🚀 性能优化多达30+项，显著提升系统响应速度
- 🐛 修复问题40+个，大幅提升系统稳定性



## 3.0.202506191125

- 新增 alert提示，部分插件增加提示信息
- 新增 媒体服务器配置支持删除同步历史记录
- 新增 媒体详情 支持一键删除媒体tmdb缓存
- 新增 媒体整理 支持选择仅媒体文件
- 新增 媒体整理 支持转移字幕
- 新增 系统基础设置 增加站点下载超时时间 合理设置下载超时，避免部分站点下载种子文件太慢超时
- 新增 系统基础设置 增加刮削配置 设置削刮原数据
- 新增 修仙秘籍 Host文件 增加定时任务同步系统hosts
- 新增 修仙秘籍 Cloudflare IP优选 调整根据域名进行host替换
- 新增 媒体详情 支持一键复制TMDB ID
- 新增 系统基础设置 增加临时文件保留天数配置 /app/config/tmp 路径下的文件
- 新增 系统基础设置 增加FanArt 代理配置 开启后刮削元数据会走代理
- 新增 站点维护页面增加手机UI呈现
- 新增 站点资源 资源列表添加站点favicon显示
- 新增 系统基础设置 增加TMDB 原语言图片配置 开启后 mdb 海报、背景图使用原语言图片
- 新增 手动识别目录手机端做成卡片
- 新增 识别词支持导入导出，识别词组新增词组内批量操作
- 新增 整理历史和手动识别列表中本地路径支持点击跳转到文件管理
- 新增 名称测试 tmdbid支持打开tmdb网站
- 新增 名称识别测试 识别后支持 一键清缓重试 快速排除缓存导致的识别问题
- 新增 目录同步 路径组件支持选择路径类型
- 新增 增加日志 max size环境变量  MS_LOG_MAX_SIZE
- 新增 网盘手动整理增加识别重命名开关、未知目录
- 新增 115网盘
- 新增 nullbr 新增列表 IMDB：热门电影、IMDB：热门电视节目、传记电影、传记电视节目、烂番茄2025 年最佳等
- 新增 TMDB削刮数据云上报 为后续AI识别词云共享奠定基础
- 新增 115 根据文件路径获取文件(夹)详情  至此115相关功能仅目录树和转存需要用到cookie，其他全部换成了open API

- 优化 手动整理逻辑优化
- 优化 识别词组和目录同步 面板支持记住展开状态
- 优化 名称识别词测试标签样式
- 优化 普通用户屏蔽部分功能
- 优化 目录同步 路径组件优化调整 支持选择路径类型
- 优化 过滤规则界面调整
- 优化 转存窗口样式
- 优化 提升刮削性能
- 优化 TMDB缓存优化
- 优化 媒体库列表自动刷新缓存
- 优化 115 上传生成 strm pc 优化
- 优化 基础过滤体积过滤拿缓存优化
- 优化 图片代理超时改为10秒，避免长时间等待导致前端阻塞

- 修复 部分下拉列表错误
- 修复 TMDB图片代理导致的订阅列表错误  去除鸡肋的TMDB图片代理配置
- 修复 一大堆刮削问题修复
- 修复 单条日志太长导致的 token too long 错误
- 修复 nullbr 站点搜索
- 修复 移动文件跨盘问题
- 修复 搜索特别慢的问题
- 修复 朱雀搜索缓存导致数据一样的问题
- 修复 普通用户订阅权限问题
- 修复 订阅集数跳过问题
- 修复 订阅正则编译问题



## 3.0.202505301021

- 新增 网盘支持Alist
- 新增 秘籍《订阅 MP 共享识别词》
- 新增 榜单页面支持浏览器记忆上次选择的条件
- 新增 识别词管理页面重构
- 新增 名称识别测试页面重构
- 新增 种子识别服务全面增强，识别成功率和准确性大幅提升
- 新增 榜单支持豆瓣在看、想看
- 新增 秘籍《豆瓣榜单订阅》支持豆瓣在看、想看
- 新增 tmdb web 增强搜索 提升tmdb的匹配成功率
- 新增 系统配置 识别的详细日志开关
- 新增 秘籍《自动删种》
- 新增 秘籍《NullBr 剧集下载》
- 新增 系统配置 搜索任务保留天数
- 新增 秘籍 《自动备份》可自动备份配置文件夹配置文件
- 新增 名称识别 标题支持 tmdb 元数据，支持Emby媒体库的Tmdb标题规范识别
- 新增 系统配置 整理配置 削刮模式 

- 优化 网盘相关页面与交互
- 优化 消息中心快捷指令
- 优化 系统设置页面调整
- 优化 一些页面的手机端UI呈现
- 优化 一些旧简单的秘籍 修改为公共动态表单
- 优化 增强动漫识别
- 优化 是否已入库，剧集考虑媒体服务多目录的情况
- 优化 秘术宝阁默认根据弟子数量排序
- 优化 媒体库缺失季刷新缓存的频率控制为 1 次/小时
- 优化 媒体集入库状态以及媒体入库通知
- 优化 115清目录一次调大为1000个文件
- 优化 重命名 减少 tmdb api 请求
- 优化 网盘 strm 批量生成

- 修复 部分种子 体积识别成集的问题
- 修复 一些其他问题

## 3.0.202505151858
前端：
- 新增 修仙秘籍动态表单支持能力
- 新增 过滤规则支持复制
- 新增 媒体服务器 同步历史支持体积显示
- 新增 媒体详情添加刷新媒体库
- 新增 系统配置-搜索订阅 增加字段 搜索前缀 订阅前缀 配置
- 新增 AI支持启用代理配置
- 新增 目录管理支持搜索
- 优化 媒体同步详情页面逻辑
- 优化 系统配置页面
- 优化 115上传列表页面
- 优化 种子搜索列表排版
- 优化 全局修改placeholder 颜色
- 优化 秘籍分身配置加载交互
- 优化 dashboard小部件1920宽度呈现
- 修复 设置TMDB 语言切换后不能回显
- 修复 秘籍《DC助手》显示异常
- 修复 消息交互无论是否成功，都发出，避免AI长时间等待
- 修复 wiki地址修改 

后端：
- 新增 plex webhook
- 新增 nullbr 支持搜索集数
- 新增 秘籍《媒体服务清理》
- 新增 插件动态表单化
- 新增 规则复制
- 新增 秘籍《柠檬神游》
- 新增 朱雀制作组
- 新增 秘籍《豆瓣榜单订阅》
- 新增 刷新指定媒体的媒体服务接口
- 新增 115 上传列表分页并支持关键字搜索
- 新增 AI支持启用代理
- 新增 媒体库增加默认开关、订阅增加媒体库缺失开关。订阅实时检测媒体库、自动订阅缺失集数
- 新增  消息渠道 IOS客户端 APP 编号配置。【警告：所有IOS用户都要重新配置】
- 优化 识别词和种子识别重构优化
- 优化 认证服务
- 优化 识别支持特别季
- 优化 豆瓣影踪寻宝类型、地区、年代筛选不再写死使用 api 获取
- 优化 任务线程安全
- 优化 日志轮转策略改为 size（10m）默认保留 7 天
- 优化 重构本地整理、网盘整理接入 ai 识别
- 优化 重构消息渠道交互重构、消息渠道搜索和订阅、识别工具 tmdb 详情部分代码
- 优化 媒体库检查
- 修复 tv 订阅拆包下载异常丢失
- 修复 b站年份参数修复
- 修复 douban发现 tv 类型问题
- 修复 豆瓣发现只有一页的问题
- 修复 馒头搜索缓存问题
- 修复 本地、网盘整理路径、文件忽略问题
- 修复 115 refresh token 频繁
- 修复 秘籍保存后实例重复问题
- 修复 清理过滤规则明细（需要删除任意一个规则组触发）
- 修复 导入时排除变成包含的问题
- 修复 搜索种子开了精准或者订阅接入 ai 增识别
- 修复 B站榜单问题
- 修复 一些其他问题

## 3.0.202505091236
🚀 **Media Saber 3.0 正式发布：重塑高效媒体管理的未来** 🚀    
历经一年的匠心打磨与精益求精，**Media Saber 3.0** 终于以全新姿态耀世登场！作为首个正式版本，我们不仅重构了每一行代码，更以极致性能与智能功能重新定义媒体管理工具的标准。这一次，我们不止是升级——而是彻底革新！    
 🔥 **颠覆性重构，企业级技术架构**   
告别传统束缚，Media Saber 3.0 采用 **Angular + Go + Redis + PostgreSQL** 的全栈技术组合，以现代化、高并发的企业级框架为基石。前后端彻底分离，性能更稳、速度更快、扩展性更强！    
- **跨平台客户端**：基于 **Flutter** 重构的移动端，实现 Android 与 iOS 代码高度复用，维护性提升 200%，体验丝滑如一。   
- **数据无忧**：PostgreSQL 保障数据安全，Redis 加速响应，从此告别卡顿与丢失风险。    
 ⚡ **性能飞跃，快如闪电**   
镜像体积降低80%，内存占用降低50%，运行效率最高提升10倍！无论是启动速度还是操作流畅度，均实现**质的突破**。   
- 🚄 **秒级响应**：海量媒体库加载，百站搜索仅需弹指之间。   
- 🛠️ **资源占用极低**：轻量化设计，后台运行不拖累系统。    
 🌩️ **智能网盘管理，一键掌控云端资源**   
重磅推出** 115 网盘深度集成功能，打造你的私有媒体中枢！   
- 📤 **上传/下载无忧**：直接对接网盘，资源流转更自由。   
- 🎬 **STRM 文件生成**：轻松兼容本地媒体库，点播云端视频如本地般顺畅。  
 - 🌳 **智能目录树**：自动归类网盘内容，杂乱文件秒变井然有序！    
 ✨ **初心不改，为极客而生**   
Media Saber 由资深 **Pter 开发团队** 倾力打造，从产品设计到架构实现，100% 独立自主研发。我们摒弃了过时的 Python+SQLite 组合，以**全新技术栈**重塑核心，只为给你：   
- ✅ **更高效**：多线程优化，任务并行处理。   
- ✅ **更稳定**：企业级容错机制，7×24 小时无间断运行。   
- ✅ **更安全**：数据加密传输，隐私零泄露。    
 🌟 **立即升级，体验未来式媒体管理**   
这不仅仅是一次版本迭代，而是**媒体工具领域的革命**！无论你是影音爱好者、资源整理控，还是追求效率的极客，Media Saber 3.0 都将成为你的得力助手。   
 📲 **现在安装**，开启高效与智能的寻影探剧之旅！   


---
title: 豆瓣榜单订阅
article: false
tags: 
  - 修仙秘籍
  - 豆瓣
  - 订阅
  - 榜单
categories: 
editor: markdown
permalink: /docs/cultivation_secrets/douban_subject_subscribe/
date: 2023-09-27 12:16:17
---

# 📊 豆瓣榜单订阅

**豆瓣榜单订阅** 是一个自动从豆瓣各类影视榜单中发现并添加未入库内容订阅的插件。通过监控预设榜单和自定义榜单，自动发现优质影视内容并加入订阅。

## ⚙️ 功能特点

### 📈 榜单订阅
- **预设榜单**：支持多种豆瓣影视榜单
- **自定义榜单**：支持添加自定义豆瓣榜单链接
- **分页获取**：可设置获取榜单前N页内容
- **智能订阅**：自动跳过已入库的内容

### 🎯 订阅管理
- **定时检查**：支持定时自动检查榜单更新
- **批量处理**：一次性处理多个榜单
- **数量控制**：建议控制在3个榜单以内，获取前3页以内

## 🚀 配置指南

### 📋 配置参数

插件提供以下配置选项：

### ⚙️ 基础设置

1. **周期 (cron)**：
   - 设置定时检查榜单的执行周期
   - 使用Cron表达式格式
   - 示例：`0 * * * *` 每小时执行一次
   - 可留空仅使用手动执行

2. **榜单 (subjects)**：
   - 选择要监控的豆瓣榜单
   - 支持多选，建议控制在3个榜单以内
   - 从预设的豆瓣榜单列表中选择
   - 可配合自定义榜单使用

3. **获取前 n 页 (maxPage)**：
   - 设置每个榜单获取的页数
   - 建议控制在3页以内
   - 填写数字，如：1、2、3
   - 页数越多获取的内容越多

4. **自定义榜单 (customSubjects)**：
   - 添加自定义的豆瓣榜单链接
   - 一行一个榜单链接
   - 与预设榜单配合使用
   - 总榜单数量建议控制在3个以内

### 🔧 操作功能

5. **运行一次 (run)**：
   - 手动触发一次榜单检查
   - 立即执行榜单获取和订阅
   - 不受定时任务设置影响

### ⚠️ 重要提示

6. **温馨提示**：
   - **如需订阅豆瓣想看、爱看列表**，需要先配置豆瓣Cookie
   - 配置路径：**系统配置 -> 服务配置 -> 豆瓣 Cookie**
   - 未配置Cookie将无法获取个人榜单

## 📖 使用说明

### 榜单类型

#### 预设榜单
插件提供多种预设的豆瓣榜单，包括但不限于：
- **电影榜单**：豆瓣电影Top250、热门电影、新片榜等
- **电视剧榜单**：热门电视剧、高分美剧、经典剧集等
- **综合榜单**：年度榜单、分类榜单等

#### 自定义榜单
可以添加任意豆瓣榜单链接，格式示例：
```
https://movie.douban.com/chart
https://movie.douban.com/tv/
https://movie.douban.com/annual/2023/
```

### 豆瓣Cookie配置

#### 获取Cookie步骤

1. **登录豆瓣**：
   - 使用浏览器登录豆瓣网站
   - 确保登录状态正常

2. **获取Cookie**：
   - 按F12打开开发者工具
   - 在Application标签页找到Cookies
   - 复制豆瓣相关的Cookie信息

3. **配置系统**：
   - 进入 **系统配置 -> 服务配置 -> 豆瓣 Cookie**
   - 粘贴获取的Cookie信息
   - 保存配置

#### Cookie用途
- **个人榜单**：获取想看、爱看等个人榜单
- **完整信息**：获取更详细的影片信息
- **避免限制**：减少访问频率限制

### 定时任务配置

#### Cron表达式示例

```bash
# 每小时检查一次
0 * * * *

# 每天上午10点检查
0 10 * * *

# 每周一上午9点检查
0 9 * * 1

# 每6小时检查一次
0 */6 * * *
```

> 📖 **详细说明**：关于Cron表达式的完整语法和更多示例，请参考：[Cron表达式说明文档](/docs/other/cron_rule)

### 使用步骤

#### 首次配置

1. **选择榜单**：
   - 从预设榜单中选择感兴趣的类型
   - 建议选择2-3个榜单避免过量订阅

2. **设置页数**：
   - 根据需求设置获取页数
   - 建议从1-2页开始测试

3. **配置定时任务**：
   - 设置合适的检查频率
   - 建议每天或每周检查一次

4. **测试运行**：
   - 使用"运行一次"功能测试
   - 检查订阅结果是否符合预期

#### 高级配置

1. **添加自定义榜单**：
   - 找到感兴趣的豆瓣榜单页面
   - 复制页面链接到自定义榜单中
   - 每行一个链接

2. **配置豆瓣Cookie**（可选）：
   - 如需获取个人榜单则配置Cookie
   - 按上述步骤获取并配置Cookie

3. **调优设置**：
   - 根据实际订阅情况调整榜单和页数
   - 监控存储空间和下载情况

### 订阅逻辑

#### 内容筛选
1. **已入库检测**：
   - 自动检测内容是否已存在于媒体库
   - 跳过已入库的内容避免重复订阅

2. **订阅创建**：
   - 为未入库的内容创建订阅任务
   - 自动添加到订阅列表

3. **批量处理**：
   - 同时处理多个榜单的内容
   - 按设定页数批量获取

#### 订阅结果
- **成功订阅**：内容已添加到订阅列表
- **跳过订阅**：内容已存在于媒体库
- **订阅失败**：无法识别或获取内容信息

## ⚠️ 注意事项

### 重要限制

1. **数量控制**：
   - **榜单数量建议控制在3个以内**
   - **获取页数建议控制在3页以内**
   - 避免过量订阅导致存储和带宽压力

2. **豆瓣访问**：
   - 需要稳定的网络访问豆瓣服务
   - 避免过于频繁的请求
   - 关注豆瓣API访问限制

3. **Cookie依赖**：
   - 个人榜单需要配置豆瓣Cookie
   - Cookie可能会过期需要定期更新
   - 未配置Cookie只能使用公开榜单

### 使用建议

1. **合理设置频率**：
   - 榜单更新不频繁，建议每天或每周检查
   - 避免过于频繁的检查增加服务器负担
   - 根据个人需求调整检查周期

2. **监控订阅结果**：
   - 定期检查订阅列表和下载状态
   - 及时清理不需要的订阅
   - 关注存储空间使用情况

3. **渐进式配置**：
   - 初次使用建议从少量榜单开始
   - 观察订阅效果后逐步增加
   - 根据实际需求调整配置

### 故障排除

1. **榜单获取失败**：
   - 检查网络连接到豆瓣的状态
   - 确认榜单链接是否有效
   - 查看详细错误日志

2. **Cookie相关问题**：
   - 检查Cookie是否正确配置
   - 确认Cookie是否过期
   - 重新获取和配置Cookie

3. **订阅异常**：
   - 检查订阅系统是否正常工作
   - 确认媒体库连接状态
   - 验证订阅规则设置

4. **重复订阅**：
   - 检查已入库检测功能
   - 清理重复的订阅任务
   - 调整榜单和页数设置

## 📊 使用效果

### 自动发现
- **热门内容**：及时发现豆瓣热门影视内容
- **优质推荐**：基于豆瓣评分和榜单的内容推荐
- **新片更新**：自动获取最新上线的影视作品
- **个性化**：通过自定义榜单满足个人偏好

### 订阅管理
- **智能过滤**：自动跳过已入库内容
- **批量订阅**：一次性添加多个优质内容
- **定时更新**：定期检查榜单获取新内容
- **统一管理**：在订阅系统中统一管理所有内容

## 🔗 相关链接

- [修仙秘籍主页](/docs/cultivation_secrets/main/)
- [Cron表达式说明](/docs/other/cron_rule)
- [系统配置说明](/docs/configuration/system_config/)

---

🎯 **提示**：建议控制榜单数量在3个以内，获取页数在3页以内，避免过量订阅。如需订阅个人榜单，请先配置豆瓣Cookie。

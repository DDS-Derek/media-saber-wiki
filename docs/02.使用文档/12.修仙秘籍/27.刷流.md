---
title: 刷流
article: false
tags: 
  - 修仙秘籍
  - 刷流
  - PT
  - 流量
categories: 
editor: markdown
permalink: /docs/cultivation_secrets/brush/
date: 2023-09-27 12:16:17
---

# 🌊 刷流

**刷流** 被称为"刷子神器"，是一个通过RSS自动下载PT站点种子进行刷流的插件。支持多维度的过滤条件、流量控制和安全设置，帮助用户自动化管理PT站点的上传流量。

## ⚙️ 功能特点

### 🎯 自动刷流
- **RSS监控**：通过站点RSS自动获取新种子
- **智能过滤**：多维度条件过滤合适的刷流种子
- **流量控制**：精确控制上传下载速度和总体积
- **标签管理**：通过标签区分和管理刷流种子

### 📊 安全控制
- **体积限制**：设置保种体积上限避免存储溢出
- **速度监控**：监控下载器速度，超限时停止添加
- **促销过滤**：支持按促销类型过滤种子
- **HR控制**：可选择是否下载Hit&Run种子

## 🚀 配置指南

### 基础配置

插件配置包含以下参数：

### 📋 必填参数

1. **站点 (siteId)**：
   - 选择要刷流的PT站点
   - 需要预先在站点管理中配置

2. **周期 (cron)**：
   - 定时执行的Cron表达式
   - 例如：`0 * * * *`（每小时执行一次）

3. **下载器 (downloaderId)**：
   - 选择用于刷流的下载器
   - 支持qBittorrent和Transmission

4. **保存目录 (savePath)**：
   - 刷流种子的保存目录
   - 会覆盖下载器中的默认目录设置

### ⚙️ 可选参数

#### 流量控制
1. **上限上传速度(KB/s) (upLimit)**：
   - 下载器上传速度超过此值时停止添加种子

2. **上限下载速度(KB/s) (dlLimit)**：
   - 下载器下载速度超过此值时停止添加种子

3. **保种体积(GB) (size)**：
   - 任务所有下载的总体积超过设定值时不再新增
   - 实际最多超过设定值5GB（冗余量）

#### 种子管理
4. **标签 (tags)**：
   - 用于标记刷流种子的标签
   - 多个标签用英文逗号分隔
   - **强烈建议设置**，否则部分功能可能失效

5. **同时下载任务数 (dlCount)**：
   - 下载器中正在下载的任务数超过此值时不再添加
   - 使用配置的标签来区分种子

#### RSS设置
6. **RSS地址 (rssUrl)**：
   - 自定义的站点RSS订阅URL
   - 留空则使用站点配置的RSS地址

#### 促销和HR控制
7. **Hit&Run (hr)**：
   - 是否下载Hit&Run的种子
   - 默认关闭

8. **促销 (downloadFactor)**：
   - 按促销类型过滤种子
   - 如：免费、半价、双倍等

#### 内容过滤
9. **包含 (include)**：
   - 种子名称或副标题包含关键字或匹配正则时才下载
   - 支持正则表达式

10. **排除 (exclude)**：
    - 种子名称或副标题包含关键字或匹配正则时不下载
    - 支持正则表达式

#### 速度限制
11. **上传限速(KB/s) (upSpeed)**：
    - 添加下载后限制种子的上传速度

12. **下载限速(KB/s) (dlSpeed)**：
    - 添加下载后限制种子的下载速度

#### 大小过滤
13. **最小种子大小(GB) (minSize)**：
    - 大于等于该值的种子才会下载

14. **最大种子大小(GB) (maxSize)**：
    - 小于等于该值的种子才会下载

#### 做种人数过滤
15. **最小做种人数 (minSeeder)**：
    - 大于等于该值的种子才会下载

16. **最大做种人数 (maxSeeder)**：
    - 小于等于该值的种子才会下载

#### 发布时间过滤
17. **最小发布时间(小时) (minPubDate)**：
    - 发布时间大于等于该值的种子才会下载

18. **最大发布时间(小时) (maxPubDate)**：
    - 发布时间小于等于该值的种子才会下载

#### 通知设置
19. **消息推送 (notice)**：
    - 开启后推送当前任务的执行情况

## 📖 使用说明

### 执行流程

1. **RSS获取**：
   - 从配置的RSS地址获取种子列表
   - 解析种子信息（名称、大小、做种人数等）

2. **条件过滤**：
   - 应用所有配置的过滤条件
   - 检查下载器当前状态是否满足限制

3. **种子下载**：
   - 下载符合条件的种子到下载器
   - 设置保存目录和限速参数
   - 添加指定的标签

4. **状态监控**：
   - 监控下载器的速度和体积
   - 发送执行结果通知（如开启）

### 定时任务配置

#### Cron表达式示例

```bash
# 每小时执行一次
0 * * * *

# 每30分钟执行一次
*/30 * * * *

# 每天的特定时间执行
0 2,8,14,20 * * *

# 仅在夜间执行（避开高峰）
0 1-6 * * *
```

> 📖 **详细说明**：关于Cron表达式的完整语法和更多示例，请参考：[Cron表达式说明文档](/docs/other/cron_rule)

### 配置示例

#### 基础刷流配置
```
站点: PT站点A
周期: 0 * * * * (每小时)
下载器: qBittorrent
保存目录: /downloads/brush/
标签: brush,auto
保种体积: 100GB
```

#### 高级过滤配置
```
最小种子大小: 1GB
最大种子大小: 10GB
最小做种人数: 5
最大做种人数: 50
促销: 免费
包含: 1080p|4K
排除: CAM|TS|枪版
```

### 操作功能

#### 运行一次
- 立即执行一次刷流任务
- 不受定时任务设置影响
- 可用于测试配置或手动刷流

## ⚠️ 注意事项

### 使用警告

⚠️ **重要提醒**：刷流行为可能违反PT站点的使用条款，使用本插件存在账号被封禁的风险！

### 使用建议

1. **标签管理**：
   - **强烈建议设置标签**，否则部分业务会失效
   - 通过标签区分刷流种子和正常种子
   - 便于后续的删种和管理操作

2. **合理配置**：
   - 设置合理的体积限制避免存储溢出
   - 控制同时下载数量避免影响正常使用
   - 根据网络环境设置适当的速度限制

3. **安全策略**：
   - 避免过于激进的刷流设置
   - 定期检查和调整配置参数
   - 关注站点的规则变化

### 重要提醒

1. **相同种子保护**：
   - 相同种子5分钟内不会重复下载
   - 请控制刷流频率避免资源浪费

2. **目录同步**：
   - 需要转移到媒体库的请自行配置目录同步
   - 刷流种子通常不需要媒体库管理

3. **删种配合**：
   - 配合自动删种插件使用
   - 通过标签进行自动化的删种管理

### 故障排除

1. **种子不下载**：
   - 检查过滤条件是否过于严格
   - 确认RSS地址是否正确
   - 验证站点连接状态

2. **下载器速度异常**：
   - 检查速度限制设置
   - 确认下载器连接正常
   - 验证保存目录权限

3. **体积超限**：
   - 检查保种体积设置
   - 清理不需要的种子
   - 调整过滤条件

## 📊 使用效果

### 刷流统计
- **添加种子数**：成功添加到下载器的种子数量
- **过滤种子数**：被过滤条件排除的种子数量
- **当前体积**：刷流任务的总保种体积
- **速度状态**：下载器的实时上传下载速度

### 管理效果
- **自动化刷流**：无需手动选择和下载种子
- **精确控制**：通过多维度条件精确控制刷流行为
- **安全保护**：通过体积和速度限制保护系统资源

## 🔗 相关链接

- [修仙秘籍主页](/docs/cultivation_secrets/main/)
- [Cron表达式说明](/docs/other/cron_rule)
- [自动删种](/docs/cultivation_secrets/auto_delete_torrent/)
- [下载器站点标签](/docs/cultivation_secrets/downloader_site_tag/)

---

⚠️ **免责声明**：刷流功能仅供技术研究使用，使用者需自行承担相关风险和法律责任。请遵守相关PT站点的使用条款。

---
title: 极空间系统消息
article: false
tags: 
  - 修仙秘籍
  - 极空间
  - 系统消息
  - 推送
categories: 
editor: markdown
permalink: /docs/cultivation_secrets/zspace_system_messages/
date: 2023-09-27 12:16:17
---

# 📱 极空间系统消息

**极空间系统消息** 是一个用于获取极空间（ZSpace）系统消息并通过Media Saber推送渠道转发的插件。可以定期获取极空间的系统通知、警告等消息，并通过配置的推送渠道及时通知用户。

## ⚙️ 功能特点

### 📨 消息推送
- **系统消息获取**：定期获取极空间的系统消息
- **多渠道推送**：通过Media Saber的推送渠道转发消息
- **定时检查**：支持定时自动获取消息
- **一键执行**：支持手动立即获取消息

### 🔧 适用场景
- **系统监控**：及时了解极空间系统状态
- **异常通知**：快速获取系统异常和警告信息
- **更新提醒**：及时收到系统更新通知
- **统一管理**：在Media Saber中集中管理多种消息

## 🚀 配置指南

### 📋 配置参数

插件提供以下配置选项：

### ⚙️ 基础设置

1. **服务器地址 (host)**：
   - **必填参数**：极空间的完整服务器地址
   - 格式：`http://IP地址:端口`
   - 示例：`http://192.168.31.88:5055`
   - 必须包含协议（http://或https://）

2. **定时任务 (cron)**：
   - 设置消息获取的执行频率
   - 使用Cron表达式格式
   - **推荐10分钟以上**，如：`*/10 * * * *`
   - 可留空仅使用手动获取

3. **Cookie (cookie)**：
   - **必填参数**：极空间的登录Cookie
   - 用于身份验证和API访问
   - 需要从浏览器中获取有效的Cookie

### 🔧 操作功能

4. **立即执行一次 (runOnce)**：
   - 手动触发一次消息获取
   - 立即执行消息检查和推送
   - 不受定时任务设置影响

## 📖 使用说明

### Cookie获取方法

#### 浏览器获取

1. **登录极空间Web界面**：
   - 使用浏览器访问极空间Web管理界面
   - 输入用户名和密码完成登录

2. **获取Cookie**：
   - 登录成功后按F12打开开发者工具
   - 切换到Application（应用程序）标签页
   - 在左侧Storage下找到Cookies
   - 选择对应的极空间域名
   - 复制所需的Cookie值

3. **配置插件**：
   - 将获取的Cookie完整复制到配置中
   - 确保Cookie格式正确完整

### 服务器地址配置

#### 地址格式要求

- **完整格式**：`http://IP地址:端口`
- **协议必须**：必须包含http://或https://
- **使用IP**：建议使用IP地址而非域名
- **端口号**：通常极空间使用5055端口

#### 配置示例

```bash
# 正确格式
http://192.168.31.88:5055
http://192.168.1.100:5055
https://192.168.1.100:5055

# 错误格式
192.168.31.88:5055          # 缺少协议
http://zspace.local:5055    # 域名可能不稳定
http://192.168.31.88        # 缺少端口
```

### 定时任务配置

#### Cron表达式示例

```bash
# 每10分钟检查一次（推荐）
*/10 * * * *

# 每5分钟检查一次
*/5 * * * *

# 每30分钟检查一次
*/30 * * * *

# 每小时检查一次
0 */1 * * *
```

> 📖 **详细说明**：关于Cron表达式的完整语法和更多示例，请参考：[Cron表达式说明文档](/docs/other/cron_rule)

### 使用步骤

#### 首次配置

1. **获取服务器信息**：
   - 确认极空间的IP地址和端口
   - 确保网络连通性正常

2. **获取Cookie**：
   - 登录极空间Web界面
   - 按上述方法获取Cookie

3. **配置插件**：
   - 填入服务器地址
   - 粘贴Cookie信息
   - 设置合适的检查频率

4. **测试运行**：
   - 使用"立即执行一次"功能测试
   - 确认消息获取和推送正常

#### 日常使用

1. **监控消息**：
   - 系统会按设定频率自动获取消息
   - 新消息会通过推送渠道发送

2. **维护配置**：
   - 定期检查Cookie有效性
   - 确认服务器地址变化
   - 调整检查频率

### 消息类型

插件可以获取的极空间消息包括：

- **系统更新**：软件版本更新通知
- **异常警告**：系统异常和错误信息
- **状态变更**：服务状态变化通知
- **安全提醒**：登录异常等安全信息
- **存储警告**：磁盘空间不足等存储相关警告

## ⚠️ 注意事项

### 重要提醒

1. **网络连通性**：
   - 确保Media Saber能够访问极空间
   - 检查防火墙和网络设置
   - 验证端口是否开放

2. **Cookie有效性**：
   - **Cookie会过期**，需要定期更新
   - 重新登录极空间后需要更新Cookie
   - Cookie失效会导致消息获取失败

3. **频率控制**：
   - **推荐10分钟以上的检查频率**
   - 避免过于频繁的请求
   - 尊重极空间的API访问限制

### 使用建议

1. **合理设置频率**：
   - 根据实际需求设置检查频率
   - 重要系统建议10-30分钟检查一次
   - 测试环境可适当降低频率

2. **推送渠道配置**：
   - 确保已配置合适的推送渠道
   - 测试推送功能是否正常
   - 考虑消息重要性设置不同渠道

3. **监控配置状态**：
   - 定期检查插件运行状态
   - 关注日志中的错误信息
   - 及时处理配置问题

### 故障排除

1. **连接失败**：
   - 检查服务器地址格式是否正确
   - 确认极空间服务是否正常运行
   - 验证网络连通性

2. **认证失败**：
   - 检查Cookie是否有效
   - 重新登录极空间获取新Cookie
   - 确认Cookie格式完整

3. **消息推送失败**：
   - 检查推送渠道配置
   - 确认消息通知功能已启用
   - 测试推送服务是否正常

4. **无新消息**：
   - 确认极空间确实有新消息
   - 检查消息获取逻辑
   - 查看详细日志信息

## 📊 使用效果

### 消息监控
- **实时获取**：及时获取极空间系统消息
- **统一推送**：通过Media Saber统一推送渠道
- **状态了解**：随时了解极空间运行状态
- **异常预警**：快速响应系统异常

### 管理便利
- **集中管理**：在Media Saber中统一管理消息
- **自动化**：无需手动检查极空间状态
- **多渠道**：支持多种推送方式
- **历史记录**：保留消息获取历史

## 🔗 相关链接

- [修仙秘籍主页](/docs/cultivation_secrets/main/)
- [Cron表达式说明](/docs/other/cron_rule)
- [推送渠道配置](/docs/advanced/notification_channels/)

---

🎯 **提示**：极空间系统消息插件需要有效的Cookie和正确的服务器地址，建议设置10分钟以上的检查频率。

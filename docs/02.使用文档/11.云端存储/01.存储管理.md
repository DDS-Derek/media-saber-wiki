---
title: 存储管理
article: false
tags: null
categories:
editor: markdown
permalink: /docs/cloud_storage/storage/
date: 2023-09-27 12:16:17
---

# 🗃️ 存储管理

存储管理页面用于配置和管理各种云存储服务，支持多种云存储协议。

## 📋 页面功能

**顶部操作按钮**

- 🔄 **刷新**：重新加载云存储列表
- ➕ **添加**：添加新的云存储配置
- 🔄 **全部重新加载**：重新加载所有云存储的连接状态
- ⚙️ **基础设置**：打开云存储基础设置
- 🔧 **工具菜单**：包含以下工具：
  - 115扫码获取Token：用于115网盘的扫码登录认证
  - 115扫码获取Cookie：用于115网盘的扫码获取Cookie

## 📊 存储配置字段详解

每条存储配置包含以下信息：

### 🔧 基本配置字段

- **挂载路径**：云存储在系统中的挂载点路径，用于在文件系统中访问该存储
- **驱动**：云存储服务的类型，如阿里云盘、夸克网盘、百度网盘等
- **状态**：云存储的连接状态
  - ✔️ 正常：连接成功，可以正常使用
  - ❌ 错误：连接失败，需要检查配置
  - ⚠️ 未知：尚未建立连接或状态异常
  - 🚫 已禁用：存储已被手动禁用
- **备注**：用户自定义的备注信息，用于标识该存储的用途或其他说明

### ⚙️ 高级配置字段

- **缓存过期时间**：设置云存储内容的缓存时间（分钟），避免频繁请求云服务
- **排序**：存储在列表中的显示顺序
- **禁用**：是否禁用该存储配置，禁用后将不会显示在文件列表中

### 🔄 操作选项

通过点击每条记录末尾的操作按钮，可以执行以下操作：

- ✏️ **编辑**：修改云存储配置参数
- ▶️ **启用/禁用**：切换云存储的启用状态（根据当前状态显示启用或禁用按钮）
- 🗑️ **删除**：删除该云存储配置

## 🛠 添加/编辑存储配置

添加或编辑云存储时需要填写以下配置信息：

### 基本信息

- **挂载路径**：必填项，指定云存储在系统中的访问路径
- **驱动**：选择云存储服务类型
- **备注**：可选项，用于标识该存储的用途

### 高级设置

- **缓存过期时间**：默认值通常为30分钟，可根据需要调整
- **排序**：默认值为0，数值越小越靠前
- **禁用**：默认为关闭状态

### 驱动特定配置

不同驱动类型需要不同的认证和配置信息：

- [**115 网盘开放平台**](./07.网盘配置指南.md#115-网盘开放平台)：需要配置应用ID、访问令牌和刷新令牌
- [**115 网盘分享**](./07.网盘配置指南.md#115-网盘分享)：需要配置分享链接ID和密码
- [**123 云盘开放平台**](./07.网盘配置指南.md#123-云盘开放平台)：需要配置用户名和密码
- [**中国移动云盘**](./07.网盘配置指南.md#中国移动云盘)：需要手机号、密码和Authorization信息
- [**天翼云盘**](./07.网盘配置指南.md#天翼云盘)：需要账号、密码和Cookie信息
- [**阿里云盘（Oauth2）**](./07.网盘配置指南.md#阿里云盘-oauth2)：需要填写刷新令牌等信息
- [**百度网盘**](./07.网盘配置指南.md#百度网盘)：需要配置应用密钥和访问令牌
- [**OneDrive**](./07.网盘配置指南.md#onedrive)：需要OAuth认证
- [**夸克网盘 Open**](./07.网盘配置指南.md#夸克网盘-open)：需要配置Cookie等认证信息
- **FTP/SFTP**：需要服务器地址、端口、用户名、密码等
- **WebDAV**：需要服务器地址、用户名、密码等

### 快捷获取认证信息

在添加或编辑存储配置时，系统提供了快捷获取认证信息的功能：

#### 浏览器扩展

对于部分网盘（如115、阿里云盘等），可以通过 [浏览器扩展](../../03.客户端/04.浏览器插件/01.浏览器扩展.md) 来快速获取认证信息。浏览器扩展可以自动从浏览器中提取已登录站点的Cookie或Token，并将其导入到Media Saber中，大大简化了配置过程。

#### 115网盘

对于115网盘，提供了两种快捷获取认证信息的方式：
1. **扫码授权**：通过扫码获取Token（access_token和refresh_token）
2. **扫码获取Cookie**：通过扫码获取Cookie信息

#### 139云盘和天翼云盘

对于139云盘和天翼云盘，提供了浏览器插件辅助获取认证信息的功能：
1. 点击"获取Authorization"（139云盘）或"获取Cookie"（天翼云盘）按钮
2. 系统将打开对应的登录页面
3. 在浏览器中登录账号
4. 系统将自动提取所需的认证信息并填入表单

> ⚠️ 注意：使用浏览器插件获取认证信息需要先安装[Media Saber Tools](/client/brower_tool/)浏览器扩展

## 🔧 115扫码工具

对于115网盘用户，系统提供了专门的扫码工具来获取认证信息：

### 115扫码获取Token

1. 点击顶部工具菜单中的"115扫码获取Token"
2. 选择或填写应用ID（可使用系统提供的第三方应用ID）
   - 爆米花(第三方提供)
   - vidhub(第三方提供)
   - MSGO(群友提供)
3. 点击"获取二维码"按钮生成登录二维码
4. 使用115手机APP扫描二维码进行登录
5. 扫码完成后点击"已扫码"按钮
6. 系统将显示accessToken和refreshToken
7. 将获取的Token信息填入115网盘的存储配置中

> ⚠️ 注意：第三方提供的应用ID不保证持续可用，建议申请自己的应用ID以确保稳定性。

### 115扫码获取Cookie

1. 点击顶部工具菜单中的"115扫码获取Cookie"
2. 选择客户端类型（默认为支付宝小程序）
   - 网页版
   - 115生活(Android端)
   - 115(Android端)
   - 115生活(iOS端)
   - 115(iPad端)
   - 115网盘(Android电视端)
   - 115生活(支付宝小程序)
   - 115生活(微信小程序)
   - 115管理(Android端)
   - 115(iOS端)
3. 点击"获取二维码"按钮生成登录二维码
4. 使用115手机APP扫描二维码进行登录
5. 扫码完成后点击"已扫码"按钮
6. 系统将显示用户信息和Cookie内容
7. 将获取的Cookie信息填入115网盘的存储配置中

> ⚠️ 重要提示：
> 1. 扫码登录后，所选设备之前的登录将会失效，所以请尽量选不常用的设备。
> 2. 请注意，扫码得到的Cookie会跟随发起扫码的设备，如果发起扫码的设备退出登录，扫码得到的Cookie也会随之失效。
> 3. 如要避免上述问题，可以考虑使用手机验证码登录小程序并获取其Cookie。

## 💡 使用建议

1. **合理设置缓存时间**：根据云存储内容更新频率合理设置缓存过期时间，平衡性能和数据新鲜度

2. **正确配置驱动参数**：仔细填写各驱动所需的认证信息，确保连接正常

3. **115网盘用户建议**：
   - 优先申请自己的115应用ID以确保长期稳定使用
   - 使用115扫码工具快速获取认证Token或Cookie
   - 定期检查Token有效性，必要时重新获取
   - 根据需要选择合适的客户端类型获取Cookie

4. **139云盘和天翼云盘用户建议**：
   - 安装Media Saber Tools浏览器扩展以方便获取认证信息
   - 定期更新认证信息，确保连接正常

5. **定期检查连接状态**：定期查看存储状态，及时发现和解决连接问题

6. **使用有意义的备注**：为每个存储配置添加清晰的备注，便于后续管理

7. **合理排序**：根据使用频率对存储进行排序，将常用的存储放在前面

8. **适时重新加载**：当存储连接出现问题时，可以使用"全部重新加载"功能尝试恢复连接
---
title: Strm生成
article: false
tags: null
categories:
editor: markdown
permalink: /docs/cloud_storage/strm_generate/
date: 2023-09-27 12:16:17
---

# 🔗 Strm生成

Strm生成页面用于配置和管理STRM文件的自动生成任务。STRM文件是一种流媒体播放列表文件，它不包含实际的媒体内容，而是包含指向网络上媒体文件的链接。

## 📋 页面功能

**顶部操作按钮**

- 🔄 **刷新**：重新加载STRM生成任务列表
- ➕ **添加**：创建新的STRM生成配置
- 🎨 **Strm修复**：修复已存在的STRM文件

## 📊 Strm生成任务字段详解

每条STRM生成任务配置包含以下信息：

### 📁 路径配置字段

- **来源目录**：需要生成STRM文件的云存储目录路径
- **目标目录路径**：STRM文件存放的本地目录路径（可选）
- **目标目录标签**：关联的目录标签，用于自动匹配目标目录

### ⚙️ 生成选项字段

- **识别重命名**：是否对文件进行媒体识别并按规则重命名
- **刮削**：是否获取媒体详细信息并生成NFO等刮削文件
- **刷新媒体库**：生成完成后是否通知媒体服务器刷新库
- **仅媒体文件**：是否只处理媒体文件（视频、音频），忽略其他文件
- **媒体库缺失**：是否只处理媒体库中缺失的文件
- **转移字幕**：是否同时生成同名字幕文件的STRM链接
- **开启目录树**：是否保持原目录结构

### 🔘 状态管理字段

- **启用**：是否启用该STRM生成任务配置

### 🔄 操作选项

通过点击每条记录末尾的操作按钮，可以执行以下操作：

- ✏️ **编辑**：修改STRM生成任务配置参数
- ▶️ **运行**：立即执行该STRM生成任务
- 🗑️ **删除**：删除该STRM生成任务配置

## 🛠 添加/编辑Strm生成任务

添加或编辑STRM生成任务时需要配置以下参数：

### 路径配置

- **来源目录**：必填项，指定需要生成STRM文件的云存储目录
- **目标目录路径**：可选项，指定STRM文件存放的本地目录
- **目标目录标签**：可选项，通过标签自动匹配目标目录

### 生成选项

- **识别重命名**：默认开启，建议保持开启状态以确保文件命名规范
- **刮削**：默认开启，建议保持开启状态以生成媒体信息文件
- **刷新媒体库**：默认开启，生成完成后自动刷新媒体服务器
- **仅媒体文件**：默认开启，只处理媒体文件，忽略无关文件
- **媒体库缺失**：默认关闭，开启后只处理媒体库中缺失的文件
- **转移字幕**：默认开启，同时生成同名字幕文件的STRM链接
- **开启目录树**：默认关闭，开启后保持原目录结构

## 🚀 运行Strm生成任务

有两种方式运行STRM生成任务：

1. **手动运行**：在任务列表中点击"运行"按钮立即执行
2. **自动运行**：启用任务后，系统会按计划自动执行STRM生成任务

## 💡 STRM文件说明

STRM（Stream）文件是一种简单的文本文件，包含媒体文件的网络访问链接。它具有以下特点：

- 文件非常小，通常只有几十字节
- 内容为指向实际媒体文件的URL链接
- 可以在支持STRM格式的媒体播放器中直接播放
- 节省本地存储空间，适合大媒体库管理

## 💡 使用建议

1. **合理配置路径**：
   - 来源目录应指向云存储中存放媒体文件的目录
   - 目标目录或目录标签应指向本地STRM文件存储位置

2. **根据播放需求调整选项**：
   - 确保媒体服务器能够访问云存储中的文件
   - 合理设置刮削选项以提供完整的媒体信息

3. **定期生成STRM文件**：
   - 定期运行STRM生成任务，确保云存储中的新文件能及时在媒体库中显示

4. **网络环境考虑**：
   - 确保播放设备能够稳定访问云存储中的文件
   - 对于网络不稳定的环境，建议使用下载模式而非STRM模式

5. **监控执行结果**：
   - 通过任务执行日志监控生成过程，及时发现和解决问题
---
title: 浏览器插件
article: false
date: 2023-06-28T05:11:48.294Z
tags:
categories: 浏览器插件
editor: markdown
dateCreated: 2023-05-12T04:26:30.172Z
permalink: /client/brower_tool
---

# Media Saber Tools 浏览器扩展

> Media-Saber-Tools 是一个功能强大的浏览器扩展，为 Media Saber 用户提供全方位的管理工具和便捷操作。

---

## 🚀 快速开始

### 📦 安装扩展

#### 方式一：应用商店安装（推荐）

<div style="display: flex; gap: 20px; margin: 20px 0;">
  <div style="flex: 1; text-align: center; padding: 20px; border: 2px solid #e1e5e9; border-radius: 12px;">
    <h4>🔵 Microsoft Edge</h4>
    <p>访问 <a href="https://microsoftedge.microsoft.com/addons/detail/hlpcdobmkgdflggmhpmgoejbfjndpadb" target="_blank">Edge 扩展商店</a></p>
    <p>点击"获取"按钮安装</p>
  </div>
  <div style="flex: 1; text-align: center; padding: 20px; border: 2px solid #e1e5e9; border-radius: 12px;">
    <h4>🟢 Google Chrome</h4>
    <p>访问 <a href="https://chromewebstore.google.com/detail/media-saber-tools/ibflljhbofedginadhkfehbpbefijfid" target="_blank">Chrome 网上应用店</a></p>
    <p>点击"添加至 Chrome"安装</p>
  </div>
</div>

#### 方式二：手动安装

如果无法访问应用商店：

1. **获取安装包** - 从群消息，开发组不定期发布 获取最新版本的 `.zip` 文件
2. **解压文件** - 将 `.zip` 文件解压到任意文件夹
3. **加载扩展**：
   - 打开浏览器，输入 `chrome://extensions/` 或 `edge://extensions/`
   - 开启"开发者模式"
   - 点击"加载已解压的扩展程序"
   - 选择解压后的文件夹

### � 首次配置

安装完成后，点击浏览器工具栏中的扩展图标：

1. **输入服务器地址** - 填入您的 Media Saber 服务地址（如：`http://192.168.1.100:3001`）
2. **输入登录信息** - 填入管理员用户名和密码
3. **测试连接** - 点击登录按钮验证配置

---

## ✨ 主要功能

### 🌐 站点管理

<div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 15px 0;">

**核心功能**

- 自动获取浏览器中已登录的 PT 站点 Cookie 和 User-Agent
- 一键同步站点信息到 Media Saber 服务器
- 批量更新多个站点的登录信息
- 实时显示站点状态和配置差异

**使用方法**

1. 在浏览器中正常登录 PT 站点
2. 打开扩展，进入"站点信息"页面
3. 查看站点状态（绿色=正常，黄色=需更新，红色=异常）
4. 选择需要同步的站点，点击"更新"按钮

**筛选功能**

- **浏览器** - 显示浏览器中已登录的站点
- **服务器** - 显示 Media Saber 中已配置的站点
- **Cookie 差异** - 显示需要更新 Cookie 的站点
- **UA 差异** - 显示需要更新 User-Agent 的站点
- **未添加** - 显示浏览器已登录但服务器未配置的站点

</div>

### 📊 站点数据

<div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 15px 0;">

**数据展示**

- 各 PT 站点的上传/下载数据统计
- 做种数量和活跃度信息
- 站点等级和积分详情
- 数据趋势图表展示

**实用功能**

- 支持数据导出为图片
- 隐私模式保护敏感信息
- 实时数据刷新

</div>

### ☁️ 云存储管理

<div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 15px 0;">

**文件管理**

- 类似本地文件管理器的操作体验
- 支持文件夹导航和面包屑路径
- 文件搜索和批量操作
- 新建文件夹、重命名、删除等操作

**上传功能**

- **本地文件上传** - 支持拖拽上传和选择上传
- **链接转存** - 将网络资源转存到云存储（可通过右键菜单快速打开此对话框）
- **离线下载** - 支持磁力链接、HTTP、FTP、电驴链接的离线下载（可通过网页图标或右键菜单快速打开此对话框）

**批量操作**

- 批量选择文件和文件夹
- 批量移动、复制、删除
- 清理空文件夹功能

</div>

### 📥 下载管理

<div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 15px 0;">

**任务监控**

- 实时显示下载进度和速度
- 任务状态跟踪（等待、下载中、已完成、失败）
- 文件大小和预计剩余时间

**添加下载**

- **种子链接下载** - 支持种子链接解析
- **磁力链接下载** - 支持磁力链接下载（可通过网页图标快速打开此对话框）
- **种子文件上传** - 支持本地种子文件上传
- **PT 站种子下载** - 支持 PT 站点种子下载（可通过 PT 站点按钮快速打开此对话框）

**任务管理**

- 暂停/恢复下载任务
- 删除不需要的任务
- 重试失败的下载
- 调整下载优先级

</div>

### 🔄 网页增强功能

<div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 15px 0;">

**智能链接识别**

- 自动识别网页中的磁力链接（`magnet:`）和电驴链接（`ed2k:`）
- 在链接旁自动添加两个下载图标：
  - 🟢 **绿色图标** - 磁力下载（打开下载管理页面的磁力下载对话框）
  - 🔵 **蓝色图标** - 云端离线（打开云存储页面的离线下载对话框）

**PT 站点集成**

- 支持 NexusPHP 框架的 PT 站点
- 在种子详情页自动添加"MS 下载"按钮
- 点击后打开下载管理页面的 PT 种子下载对话框

**右键菜单功能**

- **选中文本右键**：提供离线下载、云盘转存、磁力下载选项
- **页面右键**：快速访问插件各个功能页面
- 所有操作都会打开插件主界面并跳转到对应页面的模态框

</div>

---

## 📱 界面预览

<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin: 20px 0;">
  <div style="text-align: center;">
    <img src="./images/0501.png" alt="站点管理界面" style="width: 100%; max-width: 300px; border: 2px solid #e1e5e9; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);"/>
    <p style="margin-top: 10px; font-weight: 500; color: #666;">🌐 站点管理界面</p>
  </div>
  <div style="text-align: center;">
    <img src="./images/0502.png" alt="云存储管理界面" style="width: 100%; max-width: 300px; border: 2px solid #e1e5e9; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);"/>
    <p style="margin-top: 10px; font-weight: 500; color: #666;">☁️ 云存储管理界面</p>
  </div>
  <div style="text-align: center;">
    <img src="./images/0503.png" alt="下载管理界面" style="width: 100%; max-width: 300px; border: 2px solid #e1e5e9; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);"/>
    <p style="margin-top: 10px; font-weight: 500; color: #666;">📥 下载管理界面</p>
  </div>
  <div style="text-align: center;">
    <img src="./images/0504.png" alt="数据统计界面" style="width: 100%; max-width: 300px; border: 2px solid #e1e5e9; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);"/>
    <p style="margin-top: 10px; font-weight: 500; color: #666;">📊 数据统计界面</p>
  </div>
</div>

---

## 🎯 使用场景

### 场景一：网页磁力链接下载

当您在网页上看到磁力链接时：

![磁力链接下载](./images/0505.png)

**交互流程**：

1. 扩展会自动在磁力链接旁添加两个下载图标
2. 点击 **绿色图标**（磁力下载）：
   - 自动打开插件主界面
   - 跳转到"下载管理"页面
   - 弹出"添加磁力链接"对话框，磁力链接已自动填入
   - 需要选择：**下载器**、**下载参数**、**下载目录**
   - 点击"确定添加"按钮，发送到 Media Saber 服务端开始下载
3. 点击 **蓝色图标**（云端离线）：
   - 自动打开插件主界面
   - 跳转到"云端存储"页面
   - 弹出"离线下载"对话框，链接已自动填入
   - 需要选择：**下载路径**（云存储目录）
   - 点击"开始下载"按钮，发送到 Media Saber 服务端进行离线下载

### 场景二：右键快速下载

选中任意文本（如磁力链接）后右键：

![右键菜单下载](./images/0506.png)

**交互流程**：

- **离线下载**：
  - 打开插件主界面 → 云端存储页面 → 离线下载对话框
  - 选中的文本已自动填入链接框
  - 需要选择**下载路径**，点击"开始下载"发送到服务端
- **云盘转存**：
  - 打开插件主界面 → 云端存储页面 → 转存对话框
  - 选中的文本已自动填入链接框
  - 需要选择**转存路径**，点击"开始转存"发送到服务端
- **磁力链接下载**：
  - 打开插件主界面 → 下载管理页面 → 磁力下载对话框
  - 选中的磁力链接已自动填入
  - 需要选择**下载器**、**下载参数**、**下载目录**，点击"确定添加"发送到服务端
- **快速访问菜单**：直接打开插件对应的功能页面

### 场景三：PT 站点种子下载

在支持的 PT 站点种子详情页：

![PT站点下载](./images/0507.png)

**交互流程**：

1. 页面会自动显示"Media Saber PT种子下载"按钮（仅在配置的 PT 站点显示）
2. 点击按钮后：
   - 自动打开插件主界面
   - 跳转到"下载管理"页面
   - 弹出"PT 站种子下载"对话框，当前页面链接已自动填入
   - 需要选择：**下载器**、**下载参数**、**下载目录**
   - 点击"确定下载"按钮，发送到 Media Saber 服务端开始下载
3. 支持 NexusPHP 框架的主流 PT 站点

---

## 📝 对话框操作说明

### 离线下载对话框

当通过网页图标或右键菜单打开离线下载时：

**必填项目**：

- **下载路径** - 选择云存储中的目标文件夹
- **下载链接** - 支持的格式：
  - HTTP/HTTPS 链接
  - FTP 链接
  - 磁力链接 (magnet:)
  - 电驴链接 (ed2k:)
  - BT 种子链接

**操作步骤**：

1. 链接会自动填入（如果是通过网页操作触发）
2. 选择下载路径
3. 点击"开始下载"按钮
4. 任务发送到 Media Saber 服务端执行

### 磁力链接下载对话框

当通过网页图标或右键菜单打开磁力下载时：

**必填项目**：

- **磁力链接** - 格式：magnet:?xt=urn:btih:...
- **下载器** - 选择配置的下载器（如 qBittorrent、Transmission 等）
- **下载参数** - 选择预设的下载参数配置
- **下载目录** - 选择下载器中的目标目录

**操作步骤**：

1. 磁力链接会自动填入（如果是通过网页操作触发）
2. 选择下载器、下载参数和下载目录
3. 点击"确定添加"按钮
4. 任务发送到 Media Saber 服务端，由下载器执行

### PT 站种子下载对话框

当通过 PT 站点按钮打开种子下载时：

**必填项目**：

- **PT 站种子详情页链接** - 当前 PT 站点的种子详情页地址
- **下载器** - 选择配置的下载器
- **下载参数** - 选择预设的下载参数配置
- **下载目录** - 选择下载器中的目标目录

**操作步骤**：

1. PT 站点链接会自动填入
2. 选择下载器、下载参数和下载目录
3. 点击"确定下载"按钮
4. Media Saber 会自动获取种子文件并发送到下载器

### 云盘转存对话框

当通过右键菜单打开转存功能时：

**必填项目**：

- **转存路径** - 选择云存储中的目标文件夹
- **转存链接** - 支持的格式：
  - HTTP/HTTPS 链接
  - 百度网盘分享链接
  - 阿里云盘分享链接
  - 其他云盘分享链接

**操作步骤**：

1. 选中的文本会自动填入链接框
2. 选择转存路径
3. 点击"开始转存"按钮
4. 任务发送到 Media Saber 服务端执行

---

## ⚙️ 高级设置

### 自动更新配置

在"用户信息"页面可以配置：

- **每日首次更新**（推荐）- 每天首次打开浏览器时自动更新站点信息
- **定时更新** - 设置定时检查和更新的时间间隔
- **后台静默同步** - 在后台自动同步站点配置

### 通知设置

- 桌面通知 - 重要操作结果通知
- 页面内通知 - 操作状态提示
- 通知类型控制 - 可选择接收的通知类型

---

## 🔧 故障排除

### 常见问题

**❌ 无法连接到 Media Saber 服务**

- ✅ 检查服务器地址是否正确
- ✅ 确认 Media Saber 服务正在运行
- ✅ 检查网络连接和防火墙设置

**❌ 站点 Cookie 获取失败**

- ✅ 确认已在浏览器中登录目标站点
- ✅ 检查站点是否在支持列表中
- ✅ 尝试刷新页面后重新获取

**❌ 下载功能不工作**

- ✅ 检查 Media Saber 下载器配置
- ✅ 确认下载链接格式正确
- ✅ 查看浏览器控制台错误信息

### 调试方法

如需查看详细错误信息：

1. 按 `F12` 打开浏览器开发者工具
2. 切换到"扩展"或"Extensions"标签
3. 找到 Media Saber Tools 并点击"检查视图"
4. 查看控制台输出的调试信息

---

## 📋 权限说明

扩展需要以下权限来正常工作：

| 权限               | 用途                    | 说明                       |
| ------------------ | ----------------------- | -------------------------- |
| `cookies`          | 获取 PT 站点登录 Cookie | 用于同步站点登录状态       |
| `storage`          | 保存用户配置信息        | 存储服务器地址、登录状态等 |
| `activeTab`        | 获取当前标签页信息      | 识别当前访问的站点         |
| `scripting`        | 注入页面脚本            | 实现下载按钮和右键菜单     |
| `contextMenus`     | 右键菜单功能            | 提供右键快速操作           |
| `notifications`    | 显示通知                | 操作结果提醒               |
| `alarms`           | 定时任务                | 自动同步和检查功能         |
| `host_permissions` | 访问网站                | 识别下载链接和站点信息     |

---

## 🆕 版本更新

### v2.0.8（当前版本）

**🎉 重大更新**

- 全新云端存储管理界面
- 完整下载管理功能
- 站点数据统计可视化
- 右键菜单快速访问
- 移动端界面优化

**🔧 技术改进**

- 升级到 Manifest V3 标准
- 优化内存使用和性能
- 增强错误处理和用户反馈

### 历史版本

- **v1.3.4** - 新增云下载图标和右键菜单功能
- **v1.3.1** - 新增站点刷新和批量打开功能
- **v1.3.0** - 支持 NexusPHP 站点和用户信息显示

---

> **💡 提示**：本扩展专为 Media Saber 用户设计，需要配合 Media Saber 服务使用。使用过程中请遵守相关法律法规和网站服务条款。
